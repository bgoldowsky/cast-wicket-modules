<!DOCTYPE html>
<html xmlns:wicket="http://wicket.apache.org">
<head></head>
<body>

<wicket:extend>
    <p>Back to <a wicket:id="siteList">Site List</a></p>
    <h2><span wicket:id="instructions">Edit Site</span></h2>

	<form wicket:id="form">
		<fieldset>
			<div wicket:id="nameEnclosure">
				<input wicket:id="name" type="text" size="40" />
			</div>

			<div wicket:id="siteIdEnclosure">
				<input wicket:id="siteId" type="text" size="40" />
			</div>

			<div wicket:id="locationEnclosure">
				<input wicket:id="location" type="text" size="40" />
			</div>
			
			<div wicket:id="languageEnclosure">
				<input wicket:id="language" type="text" size="2" />
			</div>

			<div wicket:id="countryEnclosure">
				<input wicket:id="country" type="text" size="2" />
			</div>
			
			<div wicket:id="timezoneEnclosure">
				<input wicket:id="timezone" type="text" size="20" />
			</div>
			
			<div class="formRow">
				<div class="inputItem">
					<input type="submit" value="save" name="save"/>
				</div>
			</div>
			<div class="formRow">
				<div wicket:id="feedback" class="inputItem"></div>  
			</div>
		</fieldset>
	</form>

	<div wicket:id="ltiPlatform">
		<h2>LTI Platform</h2>

		<fieldset>
			<form wicket:id="form">
				<div wicket:id="issuerEnclosure">
					<input wicket:id="issuer" type="text" size="40" />
				</div>

				<div wicket:id="clientIdEnclosure">
					<input wicket:id="clientId" type="text" size="20" />
				</div>

				<div wicket:id="publicJwksUrlEnclosure">
					<input wicket:id="publicJwksUrl" type="text" size="60" />
				</div>

				<div wicket:id="oidcAuthRequestUrlEnclosure">
					<input wicket:id="oidcAuthRequestUrl" type="text" size="60" />
				</div>

				<div wicket:id="oAuth2TokenUrlEnclosure">
					<input wicket:id="oAuth2TokenUrl" type="text" size="60" />
				</div>

				<div wicket:id="deploymentIdEnclosure">
					<input wicket:id="deploymentId" type="text" size="20" />
				</div>

				<div class="formRow">
					<div class="inputItem">
						<input type="submit" value="save" name="save"/>
					</div>
				</div>
				<div class="formRow">
					<div wicket:id="feedback" class="inputItem"></div>
				</div>
			</form>
		</fieldset>
		<a href="#" wicket:id="create">Create LTI Platform</a>
	</div>

	<wicket:enclosure child="createNewPeriod">
		 <h2>Current Periods:</h2>
		 <ul>
		 	<li wicket:id="periodList">
		 		<a href="#" wicket:id="periodLink"><span wicket:id="name">Period</span></a> [<a href="#" wicket:id="deletePeriodLink" class="deleteLink">X</a>]
				<div wicket:id="deletePeriodModal"></div>
			</li>
		 </ul>
	
		 <a href="#" wicket:id="createNewPeriod">Create a new period</a>
	</wicket:enclosure>

	<wicket:enclosure child="upload-form">
	  <h3>Upload Spreadsheet of Users for this Site</h3>
	  <p> 
	  	Instead of creating users individually, you can upload a Comma Separated Values (CSV) list of users.  Such a file can be created in any spreadsheet program; download a <a href="#" wicket:id="sampleLink">sample</a> to get you started.  The following columns are <strong>required</strong>:
	  </p>
		<ul>
			<li>username - the login name for your user.</li>
			<li>password - the password for your user.</li>
			<li>type - the type of user: 'student' or 'teacher'.  You can abbreviate with 's' or 't'</li>
			<li>firstname - the first name for your user.</li>
			<li>lastname - the last name for your user.</li>
			<li>period - the name of the Period for the user.  If the period does not exist, the program will create one.</li>
		</ul>
	  <p>
	  	The following columns are <strong>optional</strong>: 
	  </p>
		<ul>
			<li>subjectId - a research identifier for your user.  If not specified, the username will be used.</li>
			<li>email - email address</li>
			<li>permission - permission to use the data for research. you can supply: 'true' or 'false'.  You can alternately supply '0' for false or '1' for true</li>
		</ul>
	  <p>
	  	The program does not allow duplicate usernames or subjectIds, so it will first check each user in the list before allowing you to save your changes to the database.
	  </p>

		
	  <form wicket:id="upload-form">
	    <fieldset>
	     <wicket:enclosure child="upload-file">
	      <p>
	        <label wicket:id="uploadLabel">Comma Delimited Text file of users</label><br />
	        <input wicket:id="upload-file" name="fileInput" type="file"/>
	      </p>
	      <input type="submit" value="Upload!"/>
	     </wicket:enclosure>
	     <wicket:enclosure child="commit-button">
	     <p>
	       <input wicket:id="commit-button" name="commit" type="submit" value="Save to Database"/>
	       <input wicket:id="cancel-button" name="cancel" type="submit" value="Cancel Changes"/> 
	     </p>
	     </wicket:enclosure>
	    </fieldset>

	    <div wicket:id="upload-feedback"></div>

	    <wicket:enclosure child="upload-results">
	      <fieldset>
	       <legend><span wicket:id="upload-results"></span></legend>
	        <div wicket:id="results-container">
	        <table>
	          <tr>
				  <th>line</th>
				  <th>subjectId</th>
				  <th>role</th>
				  <th>periods</th>
				  <th>username</th>
				  <th>full name</th>
				  <th>email</th>
				  <th>permission</th>
				  <th>error</th>
	          </tr>
	          <tr wicket:id="data-rows">
				  <td wicket:id="line"></td>
				  <td wicket:id="subjectId"></td>
				  <td wicket:id="role"></td>
				  <td wicket:id="periods"></td>
				  <td wicket:id="username"></td>
				  <td wicket:id="fullname"></td>
				  <td wicket:id="email"></td>
				  <td wicket:id="permission"></td>
				  <td wicket:id="error"></td>
	          </tr>
	        </table>
	        </div>
	      </fieldset>
	    </wicket:enclosure>
	  </form>
	</wicket:enclosure>
</wicket:extend>
</body>
</html>